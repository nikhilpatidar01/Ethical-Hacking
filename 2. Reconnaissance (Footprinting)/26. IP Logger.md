

### 🕵️‍♂️ **What is an IP Logger?**

An **IP Logger** is a script/tool used to **capture and record** the IP address of visitors accessing a **specific link, file, or page**.

---

### 🧠 **What It Logs**

When someone visits the page:

* 🌐 **IP Address**
* 🕒 **Timestamp**
* 🖥️ **Browser & OS (User-Agent)**
* 🔗 **Referrer**
* 📄 **Page Visited**

---

### ✅ **Use Cases (Ethical Only)**

| Use Case                           | Description                                               |
| ---------------------------------- | --------------------------------------------------------- |
| 🎯 Penetration Testing             | Red teamers check if the target opened a phishing payload |
| 🛡️ Bug Bounty Recon               | Track if blue teams clicked a crafted link                |
| 📊 Traffic Analysis (with consent) | Analytics, redirect rules, rate limiting                  |
| ❌ Illegal Surveillance             | Logging **without consent** = 🚫 Privacy law violations   |

---

### 🛠️ **Example Tools**

| Tool                | Type                          |
| ------------------- | ----------------------------- |
| 🔗 [Grabify](https://grabify.link/#google_vignette)           | URL shortener + logger        |
| 🖼️ [IPLogger.org](https://iplogger.org/)    | Image-based logger            |
| 🖼️ [ps3CFW.com](https://ps3cfw.com/)   | IP, WHOIS Lookup, URL Shortener, VPN Detector, IP Geolocation, Domain to IP      |
| 🧑‍💻 Custom Script | DIY full control over logging |

---

### ⚖️ **Legal Notice**

> 🚨 Logging IPs without **consent** can violate:

* GDPR (EU)
* CCPA (California)
* Local Cybercrime laws

> ✅ Only use on:

* Your own website
* Pentesting labs
* Red Team exercises / CTFs

---

### 🧑‍💻 **PHP IP Logger Code (`ip-logger.php`)**

```php
<?php
function getRealIpAddr() {
    if (!empty($_SERVER['HTTP_CLIENT_IP'])) {
        return $_SERVER['HTTP_CLIENT_IP'];
    } elseif (!empty($_SERVER['HTTP_X_FORWARDED_FOR'])) {
        return explode(',', $_SERVER['HTTP_X_FORWARDED_FOR'])[0];
    } else {
        return $_SERVER['REMOTE_ADDR'];
    }
}

$realIp = getRealIpAddr();
$remoteIp = $_SERVER['REMOTE_ADDR'];
$userAgent = $_SERVER['HTTP_USER_AGENT'] ?? 'Unknown';
$referrer = $_SERVER['HTTP_REFERER'] ?? 'Direct Access / Unknown';
$requestUri = $_SERVER['REQUEST_URI'] ?? 'Unknown';
$dateTime = date('Y-m-d H:i:s');

$logEntry = <<<LOG
<hr>
<b>Date:</b> $dateTime<br>
<b>IP (REMOTE_ADDR):</b> $remoteIp<br>
<b>IP (Detected):</b> $realIp<br>
<b>Page:</b> $requestUri<br>
<b>Referrer:</b> $referrer<br>
<b>User-Agent:</b> $userAgent<br>

LOG;

file_put_contents('log.html', $logEntry . PHP_EOL, FILE_APPEND | LOCK_EX);
?>
```

---

### 🧾 **Output File: `log.html` Example**

```html
<hr>
<b>Date:</b> 2025-07-03 12:45:22<br>
<b>IP (REMOTE_ADDR):</b> 192.168.0.101<br>
<b>IP (Detected):</b> 192.168.1.103<br>
<b>Page:</b> /ip-logger.php<br>
<b>Referrer:</b> https://example.com<br>
<b>User-Agent:</b> Mozilla/5.0 (Windows NT 10.0; Win64; x64)
```

---

### 🔒 **Recommended: Protect Log File (`.htaccess`)**

Place this `.htaccess` file in the same folder as `log.html`:

```
<Files "log.html">
    Order Allow,Deny
    Deny from all
</Files>
```

✅ This prevents users from directly viewing your `log.html` file in the browser.

---
