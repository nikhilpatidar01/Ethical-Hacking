

### üïµÔ∏è‚Äç‚ôÇÔ∏è **What is an IP Logger?**

An **IP Logger** is a script/tool used to **capture and record** the IP address of visitors accessing a **specific link, file, or page**.

---

### üß† **What It Logs**

When someone visits the page:

* üåê **IP Address**
* üïí **Timestamp**
* üñ•Ô∏è **Browser & OS (User-Agent)**
* üîó **Referrer**
* üìÑ **Page Visited**

---

### ‚úÖ **Use Cases (Ethical Only)**

| Use Case                           | Description                                               |
| ---------------------------------- | --------------------------------------------------------- |
| üéØ Penetration Testing             | Red teamers check if the target opened a phishing payload |
| üõ°Ô∏è Bug Bounty Recon               | Track if blue teams clicked a crafted link                |
| üìä Traffic Analysis (with consent) | Analytics, redirect rules, rate limiting                  |
| ‚ùå Illegal Surveillance             | Logging **without consent** = üö´ Privacy law violations   |

---

### üõ†Ô∏è **Example Tools**

| Tool                | Type                          |
| ------------------- | ----------------------------- |
| üîó [Grabify](https://grabify.link/#google_vignette)           | URL shortener + logger        |
| üñºÔ∏è [IPLogger.org](https://iplogger.org/)    | Image-based logger            |
| üñºÔ∏è [ps3CFW.com](https://ps3cfw.com/)   | IP, WHOIS Lookup, URL Shortener, VPN Detector, IP Geolocation, Domain to IP      |
| üßë‚Äçüíª Custom Script | DIY full control over logging |

---

### ‚öñÔ∏è **Legal Notice**

> üö® Logging IPs without **consent** can violate:

* GDPR (EU)
* CCPA (California)
* Local Cybercrime laws

> ‚úÖ Only use on:

* Your own website
* Pentesting labs
* Red Team exercises / CTFs

---

### üßë‚Äçüíª **PHP IP Logger Code**

#### üìÇ Directory Structure

```
/var/www/html/ip-logger/
‚îú‚îÄ‚îÄ index.html           # Frontend asking GPS
‚îú‚îÄ‚îÄ gps-logger.php       # PHP handler for location data
‚îú‚îÄ‚îÄ log.html             # IP logs (optional)
‚îú‚îÄ‚îÄ gps-log.html         # Stores GPS logs
‚îî‚îÄ‚îÄ .htaccess            # Blocks public viewing of .html logs
```
```
cd /var/www/html
```
```
mkdir ip-logger
```
```
sudo chown -R www-data:www-data ip-logger
```
```
nano ip-logger/index.html
```
```php
<!DOCTYPE html>
<html>
<head>
  <title>GPS IP Logger</title>
</head>
<body>
  <h2>Getting your GPS location...</h2>
  <p id="status">Waiting for user permission...</p>

  <script>
    if ('geolocation' in navigator) {
      navigator.geolocation.getCurrentPosition(
        function(position) {
          const lat = position.coords.latitude;
          const lon = position.coords.longitude;

          fetch('gps-logger.php', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/x-www-form-urlencoded'
            },
            body: `lat=${lat}&lon=${lon}`
          });

          document.getElementById('status').innerHTML = `Location sent: ${lat}, ${lon}`;
        },
        function(error) {
          document.getElementById('status').innerHTML = `Error: ${error.message}`;
        }
      );
    } else {
      document.getElementById('status').innerHTML = "Geolocation not supported by your browser.";
    }
  </script>
</body>
</html>


```

---

#### üßæ gps-logger.php ‚Äì Logs GPS + IP
```
gps-logger.php
```

```html
<?php
date_default_timezone_set('Asia/Kolkata');

// Sanitize input
$lat = $_POST['lat'] ?? 'Not provided';
$lon = $_POST['lon'] ?? 'Not provided';
$ip = $_SERVER['REMOTE_ADDR'];
$ua = $_SERVER['HTTP_USER_AGENT'] ?? 'Unknown';
$time = date("Y-m-d H:i:s T");

// Generate Google Maps link
$mapLink = "https://www.google.com/maps?q={$lat},{$lon}";

// Prepare log entry
$log = <<<LOG
<hr>
<b>Time:</b> $time<br>
<b>IP:</b> $ip<br>
<b>Latitude:</b> $lat<br>
<b>Longitude:</b> $lon<br>
<b>Google Maps:</b> <a href="$mapLink" target="_blank">View Location</a><br>
<b>User-Agent:</b> $ua<br>
LOG;

// Save to file
file_put_contents('gps-log.html', $log . PHP_EOL, FILE_APPEND | LOCK_EX);
?>

```

---
#### üìå Sample gps-log.html Output
```
gps-log.html
```
```
<hr>
<b>Time:</b> 2025-07-04 17:37:02 IST<br>
<b>IP:</b> 192.168.1.213<br>
<b>Latitude:</b> 22.6957902<br>
<b>Longitude:</b> 75.8338161<br>
<b>Google Maps:</b> <a href="https://www.google.com/maps?q=22.6957902,75.8338161" target="_blank">View Location</a><br>
<b>User-Agent:</b> Mozilla/5.0 (Android 12; Mobile) Gecko/120.0 Firefox/120.0<br>

```


```

#### üîê .htaccess (Optional, for Protection)

```
.htaccess
```

```
<FilesMatch ".*\.html$">
    Order Allow,Deny
    Deny from all
</FilesMatch>

```
This will block log.html and gps-log.html from direct access via browser ‚Äî smart for stealth setups. ‚úÖ

‚úÖ This prevents users from directly viewing your `log.html` file in the browser.

---
