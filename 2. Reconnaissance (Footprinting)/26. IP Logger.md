

### ğŸ•µï¸â€â™‚ï¸ **What is an IP Logger?**

An **IP Logger** is a script/tool used to **capture and record** the IP address of visitors accessing a **specific link, file, or page**.

---

### ğŸ§  **What It Logs**

When someone visits the page:

* ğŸŒ **IP Address**
* ğŸ•’ **Timestamp**
* ğŸ–¥ï¸ **Browser & OS (User-Agent)**
* ğŸ”— **Referrer**
* ğŸ“„ **Page Visited**

---

### âœ… **Use Cases (Ethical Only)**

| Use Case                           | Description                                               |
| ---------------------------------- | --------------------------------------------------------- |
| ğŸ¯ Penetration Testing             | Red teamers check if the target opened a phishing payload |
| ğŸ›¡ï¸ Bug Bounty Recon               | Track if blue teams clicked a crafted link                |
| ğŸ“Š Traffic Analysis (with consent) | Analytics, redirect rules, rate limiting                  |
| âŒ Illegal Surveillance             | Logging **without consent** = ğŸš« Privacy law violations   |

---

### ğŸ› ï¸ **Example Tools**

| Tool                | Type                          |
| ------------------- | ----------------------------- |
| ğŸ”— [Grabify](https://grabify.link/#google_vignette)           | URL shortener + logger        |
| ğŸ–¼ï¸ [IPLogger.org](https://iplogger.org/)    | Image-based logger            |
| ğŸ–¼ï¸ [ps3CFW.com](https://ps3cfw.com/)   | IP, WHOIS Lookup, URL Shortener, VPN Detector, IP Geolocation, Domain to IP      |
| ğŸ§‘â€ğŸ’» Custom Script | DIY full control over logging |

---

### âš–ï¸ **Legal Notice**

> ğŸš¨ Logging IPs without **consent** can violate:

* GDPR (EU)
* CCPA (California)
* Local Cybercrime laws

> âœ… Only use on:

* Your own website
* Pentesting labs
* Red Team exercises / CTFs

---

### ğŸ§‘â€ğŸ’» **PHP IP Logger Code**

#### ğŸ“‚ Directory Structure

```
/var/www/html/ip-logger/
â”œâ”€â”€ index.html           # Frontend asking GPS
â”œâ”€â”€ gps-logger.php       # PHP handler for location data
â”œâ”€â”€ log.html             # IP logs (optional)
â”œâ”€â”€ gps-log.html         # Stores GPS logs
â””â”€â”€ .htaccess            # Blocks public viewing of .html logs
```
```
cd /var/www/html
```
```
mkdir ip-logger
```
```
sudo chown -R www-data:www-data ip-logger
```
#### ğŸ§‘â€ğŸ’» index.html â€“ Gets GPS & sends to backend

```bash
nano index.html
```
```html
<!DOCTYPE html>
<html>
<head>
  <title>GPS IP Logger</title>
</head>
<body>
  <h2>Getting your GPS location...</h2>
  <p id="status">Waiting for user permission...</p>

  <script>
    if ('geolocation' in navigator) {
      navigator.geolocation.getCurrentPosition(
        function(position) {
          const lat = position.coords.latitude;
          const lon = position.coords.longitude;

          fetch('gps-logger.php', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/x-www-form-urlencoded'
            },
            body: `lat=${lat}&lon=${lon}`
          });

          document.getElementById('status').innerHTML = `Location sent: ${lat}, ${lon}`;
        },
        function(error) {
          document.getElementById('status').innerHTML = `Error: ${error.message}`;
        }
      );
    } else {
      document.getElementById('status').innerHTML = "Geolocation not supported by your browser.";
    }
  </script>
</body>
</html>


```

---

#### ğŸ§¾ gps-logger.php â€“ Logs GPS + IP
```bash
nano gps-logger.php
```

```html
<?php
date_default_timezone_set('Asia/Kolkata');

// Sanitize input
$lat = $_POST['lat'] ?? 'Not provided';
$lon = $_POST['lon'] ?? 'Not provided';
$ip = $_SERVER['REMOTE_ADDR'];
$ua = $_SERVER['HTTP_USER_AGENT'] ?? 'Unknown';
$time = date("Y-m-d H:i:s T");

// Generate Google Maps link
$mapLink = "https://www.google.com/maps?q={$lat},{$lon}";

// Prepare log entry
$log = <<<LOG
<hr>
<b>Time:</b> $time<br>
<b>IP:</b> $ip<br>
<b>Latitude:</b> $lat<br>
<b>Longitude:</b> $lon<br>
<b>Google Maps:</b> <a href="$mapLink" target="_blank">View Location</a><br>
<b>User-Agent:</b> $ua<br>
LOG;

// Save to file
file_put_contents('gps-log.html', $log . PHP_EOL, FILE_APPEND | LOCK_EX);
?>

```

---
#### ğŸ“Œ Sample gps-log.html Output
```bash
gps-logger.php
```
```
<?php
if ($_SERVER['REQUEST_METHOD'] !== 'POST') {
    exit("No GPS data received.");
}

date_default_timezone_set('Asia/Kolkata');

$lat = $_POST['lat'] ?? 'Not provided';
$lon = $_POST['lon'] ?? 'Not provided';
$ip = $_SERVER['REMOTE_ADDR'];
$ua = $_SERVER['HTTP_USER_AGENT'] ?? 'Unknown';
$time = date("Y-m-d H:i:s T");

$mapLink = "https://www.google.com/maps?q={$lat},{$lon}";

$log = <<<LOG
<hr>
<b>Time:</b> $time<br>
<b>IP:</b> $ip<br>
<b>Latitude:</b> $lat<br>
<b>Longitude:</b> $lon<br>
<b>Google Maps:</b> <a href="$mapLink" target="_blank">View Location</a><br>
<b>User-Agent:</b> $ua<br>
LOG;

file_put_contents('gps-log.html', $log . PHP_EOL, FILE_APPEND | LOCK_EX);
?>


```


---

#### ğŸ” .htaccess (Optional, for Protection)

```
nano .htaccess
```

```
<FilesMatch ".*\.html$">
    Order Allow,Deny
    Deny from all
</FilesMatch>

```
This will block log.html and gps-log.html from direct access via browser â€” smart for stealth setups. âœ…

---
