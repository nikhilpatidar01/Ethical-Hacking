

### 🕵️‍♂️ **What is an IP Logger?**

An **IP Logger** is a script/tool used to **capture and record** the IP address of visitors accessing a **specific link, file, or page**.

---

### 🧠 **What It Logs**

When someone visits the page:

* 🌐 **IP Address**
* 🕒 **Timestamp**
* 🖥️ **Browser & OS (User-Agent)**
* 🔗 **Referrer**
* 📄 **Page Visited**

---

### ✅ **Use Cases (Ethical Only)**

| Use Case                           | Description                                               |
| ---------------------------------- | --------------------------------------------------------- |
| 🎯 Penetration Testing             | Red teamers check if the target opened a phishing payload |
| 🛡️ Bug Bounty Recon               | Track if blue teams clicked a crafted link                |
| 📊 Traffic Analysis (with consent) | Analytics, redirect rules, rate limiting                  |
| ❌ Illegal Surveillance             | Logging **without consent** = 🚫 Privacy law violations   |

---

### 🛠️ **Example Tools**

| Tool                | Type                          |
| ------------------- | ----------------------------- |
| 🔗 [Grabify](https://grabify.link/#google_vignette)           | URL shortener + logger        |
| 🖼️ [IPLogger.org](https://iplogger.org/)    | Image-based logger            |
| 🖼️ [ps3CFW.com](https://ps3cfw.com/)   | IP, WHOIS Lookup, URL Shortener, VPN Detector, IP Geolocation, Domain to IP      |
| 🧑‍💻 Custom Script | DIY full control over logging |

---

### ⚖️ **Legal Notice**

> 🚨 Logging IPs without **consent** can violate:

* GDPR (EU)
* CCPA (California)
* Local Cybercrime laws

> ✅ Only use on:

* Your own website
* Pentesting labs
* Red Team exercises / CTFs

---

### 🧑‍💻 **PHP IP Logger Code**

#### 📂 Directory Structure

```
/var/www/html/ip-logger/
├── index.html           # Frontend asking GPS
├── gps-logger.php       # PHP handler for location data
├── log.html             # IP logs (optional)
├── gps-log.html         # Stores GPS logs
└── .htaccess            # Blocks public viewing of .html logs
```
```
cd /var/www/html
```
```
mkdir ip-logger
```
```
sudo chown -R www-data:www-data ip-logger
```
#### 🧑‍💻 index.html – Gets GPS & sends to backend

```bash
nano index.html
```
```html
<!DOCTYPE html>
<html>
<head>
  <title>GPS IP Logger</title>
</head>
<body>
  <h2>Getting your GPS location...</h2>
  <p id="status">Waiting for user permission...</p>

  <script>
    if ('geolocation' in navigator) {
      navigator.geolocation.getCurrentPosition(
        function(position) {
          const lat = position.coords.latitude;
          const lon = position.coords.longitude;

          fetch('gps-logger.php', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/x-www-form-urlencoded'
            },
            body: `lat=${lat}&lon=${lon}`
          });

          document.getElementById('status').innerHTML = `Location sent: ${lat}, ${lon}`;
        },
        function(error) {
          document.getElementById('status').innerHTML = `Error: ${error.message}`;
        }
      );
    } else {
      document.getElementById('status').innerHTML = "Geolocation not supported by your browser.";
    }
  </script>
</body>
</html>


```

---

#### 🧾 gps-logger.php – Logs GPS + IP
```bash
nano gps-logger.php
```

```html
<?php
date_default_timezone_set('Asia/Kolkata');

// Sanitize input
$lat = $_POST['lat'] ?? 'Not provided';
$lon = $_POST['lon'] ?? 'Not provided';
$ip = $_SERVER['REMOTE_ADDR'];
$ua = $_SERVER['HTTP_USER_AGENT'] ?? 'Unknown';
$time = date("Y-m-d H:i:s T");

// Generate Google Maps link
$mapLink = "https://www.google.com/maps?q={$lat},{$lon}";

// Prepare log entry
$log = <<<LOG
<hr>
<b>Time:</b> $time<br>
<b>IP:</b> $ip<br>
<b>Latitude:</b> $lat<br>
<b>Longitude:</b> $lon<br>
<b>Google Maps:</b> <a href="$mapLink" target="_blank">View Location</a><br>
<b>User-Agent:</b> $ua<br>
LOG;

// Save to file
file_put_contents('gps-log.html', $log . PHP_EOL, FILE_APPEND | LOCK_EX);
?>

```

---
#### 📌 Sample gps-log.html Output
```bash
gps-logger.php
```
```
<?php
if ($_SERVER['REQUEST_METHOD'] !== 'POST') {
    exit("No GPS data received.");
}

date_default_timezone_set('Asia/Kolkata');

$lat = $_POST['lat'] ?? 'Not provided';
$lon = $_POST['lon'] ?? 'Not provided';
$ip = $_SERVER['REMOTE_ADDR'];
$ua = $_SERVER['HTTP_USER_AGENT'] ?? 'Unknown';
$time = date("Y-m-d H:i:s T");

$mapLink = "https://www.google.com/maps?q={$lat},{$lon}";

$log = <<<LOG
<hr>
<b>Time:</b> $time<br>
<b>IP:</b> $ip<br>
<b>Latitude:</b> $lat<br>
<b>Longitude:</b> $lon<br>
<b>Google Maps:</b> <a href="$mapLink" target="_blank">View Location</a><br>
<b>User-Agent:</b> $ua<br>
LOG;

file_put_contents('gps-log.html', $log . PHP_EOL, FILE_APPEND | LOCK_EX);
?>


```


---

#### 🔐 .htaccess (Optional, for Protection)

```
nano .htaccess
```

```
<FilesMatch ".*\.html$">
    Order Allow,Deny
    Deny from all
</FilesMatch>

```
This will block log.html and gps-log.html from direct access via browser — smart for stealth setups. ✅

---
