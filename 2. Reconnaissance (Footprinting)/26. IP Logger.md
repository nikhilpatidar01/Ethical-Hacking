

### üïµÔ∏è‚Äç‚ôÇÔ∏è **What is an IP Logger?**

An **IP Logger** is a script/tool used to **capture and record** the IP address of visitors accessing a **specific link, file, or page**.

---

### üß† **What It Logs**

When someone visits the page:

* üåê **IP Address**
* üïí **Timestamp**
* üñ•Ô∏è **Browser & OS (User-Agent)**
* üîó **Referrer**
* üìÑ **Page Visited**

---

### ‚úÖ **Use Cases (Ethical Only)**

| Use Case                           | Description                                               |
| ---------------------------------- | --------------------------------------------------------- |
| üéØ Penetration Testing             | Red teamers check if the target opened a phishing payload |
| üõ°Ô∏è Bug Bounty Recon               | Track if blue teams clicked a crafted link                |
| üìä Traffic Analysis (with consent) | Analytics, redirect rules, rate limiting                  |
| ‚ùå Illegal Surveillance             | Logging **without consent** = üö´ Privacy law violations   |

---

### üõ†Ô∏è **Example Tools**

| Tool                | Type                          |
| ------------------- | ----------------------------- |
| üîó [Grabify](https://grabify.link/#google_vignette)           | URL shortener + logger        |
| üñºÔ∏è [IPLogger.org](https://iplogger.org/)    | Image-based logger            |
| üñºÔ∏è [ps3CFW.com](https://ps3cfw.com/)   | IP, WHOIS Lookup, URL Shortener, VPN Detector, IP Geolocation, Domain to IP      |
| üßë‚Äçüíª Custom Script | DIY full control over logging |

---

### ‚öñÔ∏è **Legal Notice**

> üö® Logging IPs without **consent** can violate:

* GDPR (EU)
* CCPA (California)
* Local Cybercrime laws

> ‚úÖ Only use on:

* Your own website
* Pentesting labs
* Red Team exercises / CTFs

---

### üßë‚Äçüíª **PHP IP Logger Code (`ip-logger.php`)**
```
cd /var/www/html
```
```
mkdir ip-logger
```
```
sudo chown -R www-data:www-data ip-logger
```
```
nano ip-logger/ip-logger.php
```
```php
<?php
date_default_timezone_set('Asia/Kolkata');

function getRealIpAddr() {
    if (!empty($_SERVER['HTTP_CLIENT_IP'])) {
        return $_SERVER['HTTP_CLIENT_IP'];
    } elseif (!empty($_SERVER['HTTP_X_FORWARDED_FOR'])) {
        return explode(',', $_SERVER['HTTP_X_FORWARDED_FOR'])[0];
    } else {
        return $_SERVER['REMOTE_ADDR'];
    }
}

$realIp = getRealIpAddr();
$remoteIp = $_SERVER['REMOTE_ADDR'];
$uri = $_SERVER['REQUEST_URI'] ?? 'Unknown';
$referrer = $_SERVER['HTTP_REFERER'] ?? 'Direct Access / Unknown';
$userAgent = $_SERVER['HTTP_USER_AGENT'] ?? 'Unknown';
$dateTime = date("Y-m-d H:i:s T"); // Time with timezone

$logEntry = <<<LOG
<hr>
<b>Date:</b> $dateTime<br>
<b>IP (REMOTE_ADDR):</b> $remoteIp<br>
<b>IP (Detected):</b> $realIp<br>
<b>Page:</b> $uri<br>
<b>Referrer:</b> $referrer<br>
<b>User-Agent:</b> $userAgent<br>
LOG;

file_put_contents("log.html", $logEntry . PHP_EOL, FILE_APPEND | LOCK_EX);
?>

```

---

### üßæ **Output File: `log.html` Example**

```html
<hr>
<b>Date:</b> 2025-07-03 12:45:22<br>
<b>IP (REMOTE_ADDR):</b> 192.168.0.101<br>
<b>IP (Detected):</b> 192.168.1.103<br>
<b>Page:</b> /ip-logger.php<br>
<b>Referrer:</b> https://example.com<br>
<b>User-Agent:</b> Mozilla/5.0 (Windows NT 10.0; Win64; x64)
```

---

### üîí **Recommended: Protect Log File (`.htaccess`)**

Place this `.htaccess` file in the same folder as `log.html`:

```
<Files "log.html">
    Order Allow,Deny
    Deny from all
</Files>
```

‚úÖ This prevents users from directly viewing your `log.html` file in the browser.

---
